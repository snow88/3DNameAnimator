#include<iostream>
#include<graphics.h>
#include<graphics_ts.h>                   ///my graphics library, you can find it at: github.com/snow88/TheTSGraphicsLibrary
using namespace std;

int np = 18;
int n[50] = {8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8};
vertex polylist[50][20] = {
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},   //verticals
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},

                             {{-25,7,10}, {25,7,10}, {25,-7,10}, {-25,-7,10}, {-25,7,-10}, {25,7,-10}, {25,-7,-10}, {-25,-7,-10}},     //horizontals
                             {{-25,7,10}, {25,7,10}, {25,-7,10}, {-25,-7,10}, {-25,7,-10}, {25,7,-10}, {25,-7,-10}, {-25,-7,-10}},
                             {{-25,7,10}, {25,7,10}, {25,-7,10}, {-25,-7,10}, {-25,7,-10}, {25,7,-10}, {25,-7,-10}, {-25,-7,-10}},
                             {{-25,7,10}, {25,7,10}, {25,-7,10}, {-25,-7,10}, {-25,7,-10}, {25,7,-10}, {25,-7,-10}, {-25,-7,-10}},
                             {{-25,7,10}, {25,7,10}, {25,-7,10}, {-25,-7,10}, {-25,7,-10}, {25,7,-10}, {25,-7,-10}, {-25,-7,-10}},
                             {{-25,7,10}, {25,7,10}, {25,-7,10}, {-25,-7,10}, {-25,7,-10}, {25,7,-10}, {25,-7,-10}, {-25,-7,-10}},
                             {{-25,7,10}, {25,7,10}, {25,-7,10}, {-25,-7,10}, {-25,7,-10}, {25,7,-10}, {25,-7,-10}, {-25,-7,-10}}
                          };

int xc[50] = {50,100,130,160,190,220,250,280,310,340,370, 50,115,175,265,295,355,355};
int yc[50] = {100,100,100,100,100,100,100,100,100,100,100, 60,140,100,60,140,60,100};
int type[50] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

vertex polylist2[50][20] = {
                             {{40,30,10}, {50,30,10}, {50,90,10}, {40,90,10}, {40,30,-10}, {50,30,-10}, {50,90,-10}, {40,90,-10}},
                             {{90,30,10}, {100,30,10}, {100,90,10}, {90,90,10}, {90,30,-10}, {100,30,-10}, {100,90,-10}, {90,90,-10}},
                             {{130,30,10}, {140,30,10}, {140,90,10}, {130,90,10}, {130,30,-10}, {140,30,-10}, {140,90,-10}, {130,90,-10}},
                             {{170,30,10}, {180,30,10}, {180,90,10}, {170,90,10}, {170,30,-10}, {180,30,-10}, {180,90,-10}, {170,90,-10}},
                             {{210,30,10}, {220,30,10}, {220,90,10}, {210,90,10}, {210,30,-10}, {220,30,-10}, {220,90,-10}, {210,90,-10}},
                             {{250,30,10}, {260,30,10}, {260,90,10}, {250,90,10}, {250,30,-10}, {260,30,-10}, {260,90,-10}, {250,90,-10}},
                             {{290,30,10}, {300,30,10}, {300,90,10}, {290,90,10}, {290,30,-10}, {300,30,-10}, {300,90,-10}, {290,90,-10}},
                             {{330,30,10}, {340,30,10}, {340,90,10}, {330,90,10}, {330,30,-10}, {340,30,-10}, {340,90,-10}, {330,90,-10}},
                             {{370,30,10}, {380,30,10}, {380,90,10}, {370,90,10}, {370,30,-10}, {380,30,-10}, {380,90,-10}, {370,90,-10}},
                             {{410,30,10}, {420,30,10}, {420,90,10}, {410,90,10}, {410,30,-10}, {420,30,-10}, {420,90,-10}, {410,90,-10}},
                             {{450,30,10}, {460,30,10}, {460,90,10}, {450,90,10}, {450,30,-10}, {460,30,-10}, {460,90,-10}, {450,90,-10}},

                             {{20,20,10}, {70,20,10}, {70,30,10}, {20,30,10}, {20,20,-10}, {70,20,-10}, {70,30,-10}, {20,30,-10}},
                             {{90,90,10}, {140,90,10}, {140,100,10}, {90,100,10}, {90,90,-10}, {140,90,-10}, {140,100,-10}, {90,100,-10}},
                             {{170,55,10}, {220,55,10}, {220,65,10}, {170,65,10}, {170,55,-10}, {220,55,-10}, {220,65,-10}, {170,65,-10}},
                             {{290,20,10}, {340,20,10}, {340,30,10}, {290,30,10}, {290,20,-10}, {340,20,-10}, {340,30,-10}, {290,30,-10}},
                             {{330,90,10}, {380,90,10}, {380,100,10}, {330,100,10}, {330,90,-10}, {380,90,-10}, {380,100,-10}, {330,100,-10}},
                             {{410,20,10}, {460,20,10}, {460,30,10}, {410,30,10}, {410,20,-10}, {460,20,-10}, {460,30,-10}, {410,30,-10}},
                             {{410,55,10}, {460,55,10}, {460,65,10}, {410,65,10}, {410,55,-10}, {460,55,-10}, {460,65,-10}, {410,65,-10}},
                        };

int edgemat[50][20][20] = {
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                          };
int ns[50] = {6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6};
int surfaces[50][10][10] = {
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                            };
bool visible[50][10];

int surfacecolors[50][10] = {
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15}
                    };

int main()
{
    int gd=DETECT, gm=0;
    initgraph(&gd, &gm, "C:\\TURBOC3\\BGI");

    hiddensurfacexrotateplane(np, polylist2, n, surfaces, ns, visible, surfacecolors);

    getch();
    closegraph();
    return 0;
}

